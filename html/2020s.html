<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReCuedle - 2020's Hits</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/category.css">
    <script src="https://connect.soundcloud.com/sdk/sdk-3.3.2.js"></script>
    <link rel="stylesheet" href="../css/cookies.css">
    <link rel="icon" href="data:,">
</head>

<body>
    <!-- Cookie Consent Banner -->
    <div id="cookie-consent-banner" style="display: none;">
        <p>This website uses SoundCloud embeds, which may set cookies on your device. By using this website, you agree
            to our use of cookies. <a href="https://soundcloud.com/pages/cookies" target="_blank">Learn more</a></p>
        <button id="accept-cookies">Accept</button>
    </div>
    <div class="background">
        <main>
            <h1 id="main-title">
                <span>R</span><span>e</span><span>C</span><span>u</span><span>e</span><span>d</span><span>l</span><span>e</span>
            </h1>
            <section class="song-container">
                <div class="timer">
                    <h2>2020's Hits</h2>
                    <p>Time: 0:00</p>
                </div>
                <div class="cue">
                    <button id="cue-btn" title="Click to play song">Cue</button>
                    <a href="../index.html"><svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision"
                            text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd"
                            clip-rule="evenodd" viewBox="0 0 475 511.87">
                            <path
                                d="M12.07 402.3h450.86c6.64 0 12.07 5.5 12.07 12.07v85.43c0 6.57-5.5 12.07-12.07 12.07H12.07C5.5 511.87 0 506.44 0 499.8v-85.43c0-6.64 5.43-12.07 12.07-12.07zm10.76-60.79c-25.42 0-26.08-16.49-18.12-28.69l216.36-302.4C225.98 3.45 231.69-.02 237.4 0c5.71-.02 11.43 3.45 16.33 10.42l216.36 302.4c7.96 12.2 7.3 28.69-18.12 28.69H22.83z" />
                        </svg></a>
                </div>
                <div class="guess-container">
                    <div class="guess-box"></div>
                    <div class="guess-box"></div>
                    <div class="guess-box"></div>
                    <div class="guess-box"></div>
                    <div class="guess-box"></div>
                    <div class="guess-box"></div>
                </div>
            </section>
        </main>
    </div>
    <div id="popup" class="popup">
        <div class="popup-content">
            <span id="close-popup" class="close-btn">&times;</span>

            <script src="https://w.soundcloud.com/player/api.js"></script>
            <span class="song-info"></span>
            <div class="popup-buttons">
                <button id="tryAnotherDecade">Try Another Decade</button>
                <button id="shareResults">Share Your Results</button>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            if (!document.cookie.includes("cookies_accepted_2020s=true")) {
                document.getElementById("cookie-consent-banner").style.display = "block";
            } else {
                loadSoundCloudEmbed();
                var script = document.createElement("script");
                script.defer = true;
                script.src = "../js/script.js";
                document.body.appendChild(script);
            }

            document.getElementById("accept-cookies").addEventListener("click", function () {
                console.log("Accept button clicked");
                document.getElementById("cookie-consent-banner").style.display = "none";
                document.cookie = "cookies_accepted_2020s=true; max-age=2592000; path=/;";

                loadSoundCloudEmbed();

                var script = document.createElement("script");
                script.defer = true;
                script.src = "../js/script.js";
                document.body.appendChild(script);
            });

        });

        function loadSoundCloudEmbed() {
            const iframe = document.createElement("iframe");
            iframe.width = "100%";
            iframe.height = "166";
            iframe.scrolling = "no";
            iframe.frameborder = "no";
            iframe.allow = "autoplay";
            iframe.src = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1603842738&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&hide_title=true&hide_artwork=false&visual=false&buying=false&liking=false&sharing=false&download=false";
            const closePopup = document.getElementById("close-popup");
            closePopup.insertAdjacentElement('afterend', iframe);
        }
    </script>
</body>

</html>